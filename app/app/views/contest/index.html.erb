<div class="page-container">
  <div class="page-header">
    <h1 class="page-title"><%= t('contests.title') %></h1>
  </div>

  <!-- Upcoming Contests -->
  <% if @upcoming_contests.any? %>
    <div class="contest-section">
      <h2 class="contest-section-title"><%= t('contests.upcoming_contests') %></h2>
      <div class="contest-list">
        <% @upcoming_contests.each do |contest| %>
          <div class="contest-card">
            <div class="contest-card-header">
              <h3 class="contest-name">
                <%= link_to contest.translated_name, contest_path(contest), data: { turbo: false } %>
              </h3>
              <span class="contest-badge upcoming"><%= t('contests.upcoming') %></span>
            </div>
            <div class="contest-card-body">
              <p class="contest-description"><%= truncate(contest.translated_description, length: 150) if contest.translated_description.present? %></p>
              <div class="contest-meta">
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.starts') %>:</span>
                  <span class="meta-value"><%= contest.start_time.strftime("%B %d, %Y at %I:%M %p") %></span>
                </div>
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.ends') %>:</span>
                  <span class="meta-value"><%= contest.end_time.strftime("%B %d, %Y at %I:%M %p") %></span>
                </div>
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.duration') %>:</span>
                  <span class="meta-value"><%= contest.duration_minutes %> <%= t('contests.minutes') %></span>
                </div>
              </div>
            </div>
            <div class="contest-card-footer">
              <%= link_to t('contests.view_contest'), contest_path(contest), class: "btn-primary", data: { turbo: false } %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- Active Contests -->
  <% if @active_contests.any? %>
    <div class="contest-section">
      <h2 class="contest-section-title"><%= t('contests.active_contests') %></h2>
      <div class="contest-list">
        <% @active_contests.each do |contest| %>
          <div class="contest-card">
            <div class="contest-card-header">
              <h3 class="contest-name">
                <%= link_to contest.translated_name, contest_path(contest), data: { turbo: false } %>
              </h3>
              <span class="contest-badge active"><%= t('contests.active') %></span>
            </div>
            <div class="contest-card-body">
              <p class="contest-description"><%= truncate(contest.translated_description, length: 150) if contest.translated_description.present? %></p>
              <div class="contest-meta">
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.started') %>:</span>
                  <span class="meta-value"><%= contest.start_time.strftime("%B %d, %Y at %I:%M %p") %></span>
                </div>
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.ends') %>:</span>
                  <span class="meta-value"><%= contest.end_time.strftime("%B %d, %Y at %I:%M %p") %></span>
                </div>
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.duration') %>:</span>
                  <span class="meta-value"><%= contest.duration_minutes %> <%= t('contests.minutes') %></span>
                </div>
              </div>
            </div>
            <div class="contest-card-footer">
              <%= link_to t('contests.view_contest'), contest_path(contest), class: "btn-primary", data: { turbo: false } %>
              <%= link_to t('contests.standings'), standings_contest_path(contest), class: "btn-secondary", data: { turbo: false } %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <!-- Past Contests -->
  <% if @past_contests.any? %>
    <div class="contest-section">
      <h2 class="contest-section-title"><%= t('contests.past_contests') %></h2>
      <div class="contest-list">
        <% @past_contests.each do |contest| %>
          <div class="contest-card">
            <div class="contest-card-header">
              <h3 class="contest-name">
                <%= link_to contest.translated_name, contest_path(contest), data: { turbo: false } %>
              </h3>
              <span class="contest-badge ended"><%= t('contests.ended') %></span>
            </div>
            <div class="contest-card-body">
              <p class="contest-description"><%= truncate(contest.translated_description, length: 150) if contest.translated_description.present? %></p>
              <div class="contest-meta">
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.started') %>:</span>
                  <span class="meta-value"><%= contest.start_time.strftime("%B %d, %Y at %I:%M %p") %></span>
                </div>
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.ended_at') %>:</span>
                  <span class="meta-value"><%= contest.end_time.strftime("%B %d, %Y at %I:%M %p") %></span>
                </div>
                <div class="contest-meta-item">
                  <span class="meta-label"><%= t('contests.duration') %>:</span>
                  <span class="meta-value"><%= contest.duration_minutes %> <%= t('contests.minutes') %></span>
                </div>
              </div>
            </div>
            <div class="contest-card-footer">
              <%= link_to t('contests.view_contest'), contest_path(contest), class: "btn-primary", data: { turbo: false } %>
              <%= link_to t('contests.standings'), standings_contest_path(contest), class: "btn-secondary", data: { turbo: false } %>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  <% end %>

  <% if @upcoming_contests.empty? && @active_contests.empty? && @past_contests.empty? %>
    <div class="empty-state">
      <div class="empty-icon">üèÜ</div>
      <div class="empty-title"><%= t('contests.no_contests') %></div>
      <div class="empty-text"><%= t('contests.no_contests_text') %></div>
    </div>
  <% end %>
</div>
